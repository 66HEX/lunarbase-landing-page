graph TB
    
    subgraph "Frontend"
        UI["React Admin Panel<br/>Nocta UI"]
    end
    
    subgraph "Backend (Rust)"
        API["Axum Web Server<br/>REST API + WebSocket"]
        Auth["Security Layer<br/>JWT + Permissions"]
        Services["Core Services<br/>Collections + Users"]
    end
    
    subgraph "Database"
        DB["SQLCipher<br/>Encrypted Database"]
    end
    
    subgraph "External"
        OAuth["OAuth<br/>Google + GitHub"]
        Storage["File Storage<br/>S3"]
        Resend["Email Client<br/>Resend"]
    end
    
    %% Connections
    UI --> |"HTTPS/WSS"| API
    API --> Auth
    Auth --> Services
    Services --> DB
    
    Auth --> OAuth
    Services --> Storage
    
    %% Styling
    classDef frontend fill:#61dafb,stroke:#0088cc,stroke-width:3px,color:#000
    classDef backend fill:#dea584,stroke:#8b4513,stroke-width:3px,color:#000
    classDef database fill:#336791,stroke:#1a365d,stroke-width:3px,color:#fff
    classDef external fill:#51cf66,stroke:#2b8a3e,stroke-width:3px,color:#000
    
    class UI frontend
    class API,Auth,Services backend
    class DB database
    class OAuth,Storage,Resend external